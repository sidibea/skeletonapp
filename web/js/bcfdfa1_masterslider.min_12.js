/*!
 * Master Slider – Responsive Touch Swipe Slider
 * @author Averta (www.averta.net)
 * Copyright © All Rights Reserved, Averta Ltd.
 *
 * @version 1.5.7
 * @date 3/31/2014
 */
;window.averta={},function(t){function h(){var i,t,e;if('result'in arguments.callee)return arguments.callee.result;i=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,t=document.getElementsByTagName('script')[0];for(e in t.style)if(i.test(e))return arguments.callee.result=e.match(i)[0];return arguments.callee.result='WebkitOpacity'in t.style?'Webkit':'KhtmlOpacity'in t.style?'Khtml':''};function o(t){var n=document.body||document.documentElement,s=n.style,i=t,e;if(typeof s[i]=='string')return!0;for(v=['Moz','Webkit','Khtml','O','ms'],i=i.charAt(0).toUpperCase()+i.substr(1),e=0;e<v.length;e++)if(typeof s[v[e]+i]=='string')return!0;return!1};function r(){return o('transition')};function a(){return o('transform')};function l(){var t,i,s,e;if(!a())return!1;t=document.createElement('p'),s={WebkitTransform:'-webkit-transform',OTransform:'-o-transform',MSTransform:'-ms-transform',msTransform:'-ms-transform',MozTransform:'-moz-transform',Transform:'transform',transform:'transform'},document.body.insertBefore(t,null);for(e in s)t.style[e]!==undefined&&(t.style[e]='translate3d(1px,1px,1px)',i=window.getComputedStyle(t).getPropertyValue(s[e]));return document.body.removeChild(t),i!=null&&i.length>0&&i!=='none'};var i,e,s,n;window.package=function(t){window[t]||(window[t]={})},i=function(t,i){for(var e in i)t[e]=i[e]},Function.prototype.extend=function(t){typeof t.prototype.constructor=='function'?(i(this.prototype,t.prototype),this.prototype.constructor=this):(this.prototype.extend(t),this.prototype.constructor=this)},e={Moz:'-moz-',Webkit:'-webkit-',Khtml:'-khtml-',O:'-o-',ms:'-ms-',Icab:'-icab-'},t(document).ready(function(){window._jcsspfx=h(),window._csspfx=e[window._jcsspfx],window._cssanim=r(),window._css3d=l(),window._css2d=a(),window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch='ontouchstart'in document}),window.parseQueryString=function(t){var i={};return t.replace(new RegExp('([^?=&]+)(=([^&]*))?','g'),function(t,e,s,n){i[e]=n}),i},s=50/3,window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,s)}}()),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(i){var e=/(\-([a-z]){1})/g;return i=='float'&&(i='styleFloat'),e.test(i)&&(i=i.replace(e,function(){return arguments[2].toUpperCase()})),t.currentStyle[i]?t.currentStyle[i]:null},t.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,i=Number(arguments[1])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=e);i<e;i++)if(i in this&&this[i]===t)return i;return-1}),jQuery&&(t.jqLoadFix=function(){if(this.complete){var i=this;setTimeout(function(){t(i).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(t){t=t.toLowerCase();var i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf('compatible')<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||'',version:i[2]||'0'}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),n=!!navigator.userAgent.match(/Trident\/7\./),n&&(browser.msie='true',delete browser.mozilla),jQuery.browser=browser,t.fn.preloadImg=function(i,e){return this.each(function(){var n=t(this),o=this,s=new Image;s.onload=function(t){t==null&&(t={}),n.attr('src',i),t.width=s.width,t.height=s.height,setTimeout(function(){e.call(o,t)},50),s=null},s.src=i}),this})}(jQuery),function(){'use strict';averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(t){var e=new averta.EventDispatcher,i;for(i in e)i!='constructor'&&(t[i]=averta.EventDispatcher.prototype[i])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(t,i,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({listener:i,ref:e})},removeEventListener:function(t,i,e){if(this.listeners[t]){for(var s=0,n=this.listeners[t].length;s<n;++s)i==this.listeners[t][s].listener&&e==this.listeners[t][s].ref&&this.listeners[t].splice(s);this.listeners[t].length==0&&delete this.listeners[t]}},dispatchEvent:function(t){if(t.target=this,this.listeners[t.type])for(var i=0,e=this.listeners[t.type].length;i<e;++i)this.listeners[t.type][i].listener.call(this.listeners[t.type][i].ref,t)}}}(),function(t){'use strict';var i='ontouchstart'in document,s=!1,h=s?'MSPointerDown':i?'touchstart':'mousedown',n=s?'MSPointerMove':i?'touchmove':'mousemove',o=s?'MSPointerUp':i?'touchend':'mouseup',a=s?'MSPointerUp':'touchcancel',e;averta.TouchSwipe=function(t){this.$element=t,this.enabled=!0,t.bind(h,{target:this},this.__touchStart),t[0].swipe=this,this.onSwipe=null,this.swipeType='horizontal',this.lastStatus={}},e=averta.TouchSwipe.prototype,e.getDirection=function(t,i){switch(this.swipeType){case'horizontal':return t<=this.start_x?'left':'right';case'vertical':return i<=this.start_y?'up':'down';case'all':return Math.abs(t-this.start_x)>Math.abs(i-this.start_y)?t<=this.start_x?'left':'right':i<=this.start_y?'up':'down'}},e.priventDefultEvent=function(t,i){var s=Math.abs(t-this.start_x),n=Math.abs(i-this.start_y),e=s>n;return this.swipeType==='horizontal'&&e||this.swipeType==='vertical'&&!e},e.createStatusObject=function(t){var i={},e,s;return e=this.lastStatus.distanceX||0,s=this.lastStatus.distanceY||0,i.distanceX=t.pageX-this.start_x,i.distanceY=t.pageY-this.start_y,i.moveX=i.distanceX-e,i.moveY=i.distanceY-s,i.distance=parseInt(Math.sqrt(Math.pow(i.distanceX,2)+Math.pow(i.distanceY,2))),i.duration=(new Date).getTime()-this.start_time,i.direction=this.getDirection(t.pageX,t.pageY),i},e.__reset=function(t,e){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime(),this.start_x=i?t.touches[0].pageX:e.pageX,this.start_y=i?t.touches[0].pageY:e.pageY},e.__touchStart=function(e){var s=e.data.target,h=e,l,r;if(s.enabled){if(e=e.originalEvent,!s.onSwipe){t.error('Swipe listener is undefined');return};s.touchStarted||(s.start_x=i?e.touches[0].pageX:h.pageX,s.start_y=i?e.touches[0].pageY:h.pageY,s.start_time=(new Date).getTime(),t(document).bind(o,{target:s},s.__touchEnd).bind(n,{target:s},s.__touchMove).bind(a,{target:s},s.__touchCancel),l=i?e.touches[0]:h,r=s.createStatusObject(l),r.phase='start',s.onSwipe.call(null,r),i||h.preventDefault(),s.lastStatus=r,s.touchStarted=!0)}},e.__touchMove=function(t){var e=t.data.target,o=t,s,n;(t=t.originalEvent,e.touchStarted)&&(clearTimeout(e.timo),e.timo=setTimeout(function(){e.__reset(t,o)},60),s=i?t.touches[0]:o,n=e.createStatusObject(s),e.priventDefultEvent(s.pageX,s.pageY)&&o.preventDefault(),n.phase='move',e.lastStatus=n,e.onSwipe.call(null,n))},e.__touchEnd=function(e){var s=e.data.target,r=e,l,h;e=e.originalEvent,clearTimeout(s.timo),l=i?e.touches[0]:r,h=s.lastStatus,i||r.preventDefault(),h.phase='end',s.touchStarted=!1,s.priventEvt=null,t(document).unbind(o,s.__touchEnd).unbind(n,s.__touchMove).unbind(a,s.__touchCancel),h.speed=h.distance/h.duration,s.onSwipe.call(null,h)},e.__touchCancel=function(t){var i=t.data.target;i.__touchEnd(t)},e.enable=function(){this.enabled||(this.enabled=!0)},e.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){'use strict';var s;averta.Ticker=function(){};var i=averta.Ticker,t=[],e=!0;i.add=function(e,s){return t.push([e,s]),t.length===1&&i.start(),t.length},i.remove=function(i,e){for(var s=0,n=t.length;s<n;++s)t[s]&&t[s][0]===i&&t[s][1]===e&&t.splice(s,1)},i.start=function(){e&&(e=!1,s())},i.stop=function(){e=!0},s=function(){if(!i.__stopped){for(var e=0;e<t.length;++e)t[e][0].call(t[e][1]);requestAnimationFrame(s)}}}(),function(){'use strict';Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(t,i){this.delay=t,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,i&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){'use strict';var i=null,t;window.CSSTween=function(t,e,s,n){this.$element=t,this.duration=e||1e3,this.delay=s||0,this.ease=n||'linear',i||(i=window._jcsspfx==='O'?'otransitionend':window._jcsspfx=='Webkit'?'webkitTransitionEnd':'transitionend')},t=CSSTween.prototype,t.to=function(t,i){return this.to_cb=t,this.to_cb_target=i,this},t.from=function(t,i){return this.fr_cb=t,this.fr_cb_target=i,this},t.onComplete=function(t,i){return this.oc_fb=t,this.oc_fb_target=i,this},t.chain=function(t){return this.chained_tween=t,this},t.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},t.start=function(){clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(this.$element.css(window._jcsspfx+'TransitionDuration','0ms'),this.fr_cb.call(this.fr_cb_target));var t=this;return this.onTransComplete=function(){t.fresh&&(t.reset(),this.$element.css(window._jcsspfx+'TransitionDuration','').css(window._jcsspfx+'TransitionProperty','').css(window._jcsspfx+'TransitionTimingFunction','').css(window._jcsspfx+'TransitionDelay',''),t.fresh=!1,t.chained_tween&&t.chained_tween.start(),t.oc_fb&&t.oc_fb.call(t.oc_fb_target))},this.start_to=setTimeout(function(){t.$element.css(window._jcsspfx+'TransitionDuration',t.duration+'ms').css(window._jcsspfx+'TransitionProperty','all'),t.delay>0?t.$element.css(window._jcsspfx+'TransitionDelay',t.delay+'ms'):t.$element.css(window._jcsspfx+'TransitionDelay',''),t.ease!='linear'&&t.$element.css(window._jcsspfx+'TransitionTimingFunction',t.ease),t.to_cb&&t.to_cb.call(t.to_cb_target),t.end_to=setTimeout(function(){t.onTransComplete()},t.duration+(t.delay||0))},100),this}}(),function(){'use strict';function i(i,e){var s,n,o;return(e.x!==undefined||e.y!==undefined)&&(t?(s=window._jcsspfx+'Transform',e.x!==undefined&&(e[s]=(e[s]||'')+' translateX('+e.x+'px)',delete e.x),e.y!==undefined&&(e[s]=(e[s]||'')+' translateY('+e.y+'px)',delete e.y)):(e.x!==undefined&&(n=i.css('right')!=='auto'?'right':'left',e[n]=e.x+'px',delete e.x),e.y!==undefined&&(o=i.css('bottom')!=='auto'?'bottom':'top',e[o]=e.y+'px',delete e.y))),e};var t=null;window.CTween={},CTween.setPos=function(t,e){t.css(i(t,e))},CTween.animate=function(e,s,n,o){var a,h;if(t==null&&(t=window._cssanim),o=o||{},i(e,n),t){if(a=new CSSTween(e,s,o.delay,EaseDic[o.ease]),a.to(function(){e.css(n)}),o.complete)a.onComplete(o.complete,o.target);return a.start(),a.stop=a.reset,a};return o.delay&&e.delay(o.delay),o.complete&&(h=function(){o.complete.call(o.target)}),e.stop(!0).animate(n,s,o.ease||'linear',h),e},CTween.fadeOut=function(t,i,e){var s={};e&&(s.complete=function(){t.remove()}),CTween.animate(t,i||1e3,{opacity:0},s)},CTween.fadeIn=function(t,i){t.css('opacity',0),CTween.animate(t,i||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:'linear',ease:'ease',easeIn:'ease-in',easeOut:'ease-out',easeInOut:'ease-in-out',easeInCubic:'cubic-bezier(.55,.055,.675,.19)',easeOutCubic:'cubic-bezier(.215,.61,.355,1)',easeInOutCubic:'cubic-bezier(.645,.045,.355,1)',easeInCirc:'cubic-bezier(.6,.04,.98,.335)',easeOutCirc:'cubic-bezier(.075,.82,.165,1)',easeInOutCirc:'cubic-bezier(.785,.135,.15,.86)',easeInExpo:'cubic-bezier(.95,.05,.795,.035)',easeOutExpo:'cubic-bezier(.19,1,.22,1)',easeInOutExpo:'cubic-bezier(1,0,0,1)',easeInQuad:'cubic-bezier(.55,.085,.68,.53)',easeOutQuad:'cubic-bezier(.25,.46,.45,.94)',easeInOutQuad:'cubic-bezier(.455,.03,.515,.955)',easeInQuart:'cubic-bezier(.895,.03,.685,.22)',easeOutQuart:'cubic-bezier(.165,.84,.44,1)',easeInOutQuart:'cubic-bezier(.77,0,.175,1)',easeInQuint:'cubic-bezier(.755,.05,.855,.06)',easeOutQuint:'cubic-bezier(.23,1,.32,1)',easeInOutQuint:'cubic-bezier(.86,0,.07,1)',easeInSine:'cubic-bezier(.47,0,.745,.715)',easeOutSine:'cubic-bezier(.39,.575,.565,1)',easeInOutSine:'cubic-bezier(.445,.05,.55,.95)',easeInBack:'cubic-bezier(.6,-.28,.735,.045)',easeOutBack:'cubic-bezier(.175, .885,.32,1.275)',easeInOutBack:'cubic-bezier(.68,-.55,.265,1.55)'}}(),function(){'use strict';window.MSAligner=function(t,i,e){this.$container=i,this.$img=e,this.type=t||'stretch',this.widthOnly=!1,this.heightOnly=!1};var t=MSAligner.prototype;t.init=function(t,i){this.baseWidth=t,this.baseHeight=i,this.imgRatio=t/i,this.imgRatio2=i/t;switch(this.type){case'tile':this.$container.css('background-image','url('+this.$img.attr('src')+')'),this.$img.remove();break;case'center':this.$container.css('background-image','url('+this.$img.attr('src')+')'),this.$container.css({backgroundPosition:'center center',backgroundRepeat:'no-repeat'}),this.$img.remove();break;case'stretch':this.$img.css({width:'100%',height:'100%'});break;case'fill':case'fit':this.needAlign=!0,this.align()}},t.align=function(){if(this.needAlign){var t=this.$container.width(),i=this.$container.height(),e=t/i;this.type=='fill'?this.imgRatio<e?(this.$img.width(t),this.$img.height(t*this.imgRatio2)):(this.$img.height(i),this.$img.width(i*this.imgRatio)):this.type=='fit'&&(this.imgRatio<e?(this.$img.height(i),this.$img.width(i*this.imgRatio)):(this.$img.width(t),this.$img.height(t*this.imgRatio2))),this.setMargin()}},t.setMargin=function(){var t=this.$container.width(),i=this.$container.height();this.$img.css('margin-top',(i-this.$img[0].offsetHeight)/2+'px'),this.$img.css('margin-left',(t-this.$img[0].offsetWidth)/2+'px')}}(),function(){'use strict';var i={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},e=function(t,e,s){if(e===null||t===null)throw new Error('Max and Min values are required.');this.options=s||{};for(var n in i)n in this.options||(this.options[n]=i[n]);this._max_value=e,this._min_value=t,this.value=t,this.end_loc=t,this.current_snap=this.getSnapNum(t),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},t=e.prototype;t.changeTo=function(t,i,e,s,n){if(this.stopped=!1,this._internalStop(),t=this._checkLimits(t),e=Math.abs(e||0),this.options.snapping&&(s=s||this.getSnapNum(t),n!==!1&&this._callsnapChange(s),this.current_snap=s),i){this.animating=!0;var o=this,a=++o.__animID,d=t-o.value,c=0,p=t,h,r=1-o.options.friction,l=function(){if(a===o.__animID){var i=t-o.value;if(Math.abs(i)>o.options.minValidDist&&o.animating)window.requestAnimationFrame(l);else{o.animating&&(o.value=t,o._callrenderer()),o.animating=!1,a!==o.__animID&&(o.__animID=-1),o._callonComplete('anim');return};h=r+(e-20)*r*1.3/o.options.maxSpeed,o.value=p-d*Math.exp(-++c*h),o._callrenderer()}};l();return};this.value=t,this._callrenderer()},t.drag=function(t){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=t,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=t*.6):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},t.push=function(t){if(this.stopped=!1,this.options.snapping&&Math.abs(t)<=this.options.snappingMinSpeed){this.cancel();return};if(this.__speed=t,this.__startSpeed=t,this.end_loc=this._calculateEnd(),this.options.snapping){var i=this.getSnapNum(this.value),e=this.getSnapNum(this.end_loc);if(this.options.paging){i=this.getSnapNum(this.drag_start_loc),this.__isout=!1,t>0?this.gotoSnap(i+1,!0,t):this.gotoSnap(i-1,!0,t);return};if(i===e){this.cancel();return};this._callsnapChange(e),this.current_snap=e};this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},t.bounce=function(t){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=t,this.__startSpeed=t,this.end_loc=this._calculateEnd(),this._startDecelaration())},t.stop=function(){this.stopped=!0,this._internalStop()},t.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=.0004,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},t.renderCallback=function(t,i){this.__renderHook={fun:t,ref:i}},t.snappingCallback=function(t,i){this.__snapHook={fun:t,ref:i}},t.snapCompleteCallback=function(t,i){this.__compHook={fun:t,ref:i}},t.getSnapNum=function(t){return Math.floor((t+this.options.snapsize/2)/this.options.snapsize)},t.nextSnap=function(){this._internalStop();var t=this.getSnapNum(this.value);!this.options.endless&&(t+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(t+1,!0)},t.prevSnap=function(){this._internalStop();var t=this.getSnapNum(this.value);!this.options.endless&&(t-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(t-1,!0)},t.gotoSnap=function(t,i,e){this.changeTo(t*this.options.snapsize,i,e,t)},t.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},t._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},t._calculateExtraMove=function(t){var i=t%this.options.snapsize;return i<this.options.snapsize/2?-i:this.options.snapsize-i},t._calculateEnd=function(t){for(var i=this.__speed,e=this.value,s=0;Math.abs(i)>this.options.minValidDist;)e+=i,i*=this.options.friction,s++;return t?s:e},t._checkLimits=function(t){return this.options.endless?t:t<this._min_value?this._min_value:t>this._max_value?this._max_value:t},t._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},t._callsnapChange=function(t){this.__snapHook&&t!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,t,t-this.current_snap)},t._callonComplete=function(t){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,t)},t._computeDeceleration=function(){var i,t;this.options.snapping&&this.__needsSnap?(i=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove,this.value+=this.__speed+i-this.__extrStep,this.__extrStep=i):this.value+=this.__speed,this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing&&(t=0,this.value<this._min_value?t=this._min_value-this.value:this.value>this._max_value&&(t=this._max_value-this.value),this.__isout=Math.abs(t)>=this.options.minValidDist,this.__isout&&(this.__speed*t<=0?this.__speed+=t*this.options.outFriction:this.__speed=t*this.options.outAcceleration))},t._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var t=this,i=function(){t._deceleration&&(t._computeDeceleration(),Math.abs(t.__speed)>t.options.minValidDist||t.__isout?window.requestAnimationFrame(i):(t._deceleration=!1,t.__isout=!1,t.value=this.__needsSnap&&t.options.snapping&&!t.options.paging?t._checkLimits(t.end_loc+t.__extraMove):Math.round(t.value),t._callrenderer(),t._callonComplete('decel')))};i()}},window.Controller=e}(),function(t){window.MSLayerEffects={};var e,i={opacity:0};MSLayerEffects.setup=function(){if(!e){e=!0;var s=MSLayerEffects,n=window._jcsspfx+'Transform',o=window._jcsspfx+'TransformOrigin',a=t.browser.opera;_2d=window._css2d&&window._cssanim&&!a,s.defaultValues={left:0,top:0,opacity:1,right:0,bottom:0},s.defaultValues[n]='',s.rf=1,s.presetEffParams={random:'30|300',long:300,short:30,'false':!1,'true':!0,tl:'top left',bl:'bottom left',tr:'top right',br:'bottom right',rt:'top right',lb:'bottom left',lt:'top left',rb:'bottom right',t:'top',b:'bottom',r:'right',l:'left',c:'center'},s.fade=function(){return i},s.left=_2d?function(t,i){var e=i===!1?{}:{opacity:0};return e[n]='translateX('+-t*s.rf+'px)',e}:function(t,i){var e=i===!1?{}:{opacity:0};return e.left=-t*s.rf+'px',e},s.right=_2d?function(t,i){var e=i===!1?{}:{opacity:0};return e[n]='translateX('+t*s.rf+'px)',e}:function(t,i){var e=i===!1?{}:{opacity:0};return e.left=t*s.rf+'px',e},s.top=_2d?function(t,i){var e=i===!1?{}:{opacity:0};return e[n]='translateY('+-t*s.rf+'px)',e}:function(t,i){var e=i===!1?{}:{opacity:0};return e.top=-t*s.rf+'px',e},s.bottom=_2d?function(t,i){var e=i===!1?{}:{opacity:0};return e[n]='translateY('+t*s.rf+'px)',e}:function(t,i){var e=i===!1?{}:{opacity:0};return e.top=t*s.rf+'px',e},s.from=_2d?function(t,i,e){var o=e===!1?{}:{opacity:0};return o[n]='translateX('+t*s.rf+'px) translateY('+i*s.rf+'px)',o}:function(t,i,e){var n=e===!1?{}:{opacity:0};return n.top=i*s.rf+'px',n.left=t*s.rf+'px',n},s.rotate=_2d?function(t,i){var e={opacity:0};return e[n]=' rotate('+t+'deg)',i&&(e[o]=i),e}:function(){return i},s.rotateleft=_2d?function(t,i,e,a){var h=s.left(i,a);return h[n]+=' rotate('+t+'deg)',e&&(h[o]=e),h}:function(t,i,e,n){return s.left(i,n)},s.rotateright=_2d?function(t,i,e,a){var h=s.right(i,a);return h[n]+=' rotate('+t+'deg)',e&&(h[o]=e),h}:function(t,i,e,n){return s.right(i,n)},s.rotatetop=_2d?function(t,i,e,a){var h=s.top(i,a);return h[n]+=' rotate('+t+'deg)',e&&(h[o]=e),h}:function(t,i,e,n){return s.top(i,n)},s.rotatebottom=_2d?function(t,i,e,a){var h=s.bottom(i,a);return h[n]+=' rotate('+t+'deg)',e&&(h[o]=e),h}:function(t,i,e,n){return s.bottom(i,n)},s.rotatefrom=_2d?function(t,i,e,a,h){var r=s.from(i,e,h);return r[n]+=' rotate('+t+'deg)',a&&(r[o]=a),r}:function(t,i,e,n,o){return s.from(i,e,o)},s.skewleft=_2d?function(t,i,e){var o=s.left(i,e);return o[n]+=' skewX('+t+'deg)',o}:function(t,i,e){return s.left(i,e)},s.skewright=_2d?function(t,i,e){var o=s.right(i,e);return o[n]+=' skewX('+-t+'deg)',o}:function(t,i,e){return s.right(i,e)},s.skewtop=_2d?function(t,i,e){var o=s.top(i,e);return o[n]+=' skewY('+t+'deg)',o}:function(t,i,e){return s.top(i,e)},s.skewbottom=_2d?function(t,i,e){var o=s.bottom(i,e);return o[n]+=' skewY('+-t+'deg)',o}:function(t,i,e){return s.bottom(i,e)},s.scale=_2d?function(t,i,e,s){var a=s===!1?{}:{opacity:0};return a[n]=' scaleX('+t+') scaleY('+i+')',e&&(a[o]=e),a}:function(t,i,e,s){return s===!1?{}:{opacity:0}},s.scaleleft=_2d?function(t,i,e,a,h){var r=s.left(e,h);return r[n]=' scaleX('+t+') scaleY('+i+')',a&&(r[o]=a),r}:function(t,i,e,n,o){return s.left(e,o)},s.scaleright=_2d?function(t,i,e,a,h){var r=s.right(e,h);return r[n]=' scaleX('+t+') scaleY('+i+')',a&&(r[o]=a),r}:function(t,i,e,n,o){return s.right(e,o)},s.scaletop=_2d?function(t,i,e,a,h){var r=s.top(e,h);return r[n]=' scaleX('+t+') scaleY('+i+')',a&&(r[o]=a),r}:function(t,i,e,n,o){return s.top(e,o)},s.scalebottom=_2d?function(t,i,e,a,h){var r=s.bottom(e,h);return r[n]=' scaleX('+t+') scaleY('+i+')',a&&(r[o]=a),r}:function(t,i,e,n,o){return s.bottom(e,o)},s.scalefrom=_2d?function(t,i,e,a,h,r){var l=s.from(e,a,r);return l[n]+=' scaleX('+t+') scaleY('+i+')',h&&(l[o]=h),l}:function(t,i,e,n,o,a){return s.from(e,n,a)},s.rotatescale=_2d?function(t,i,e,a,h){var r=s.scale(i,e,a,h);return r[n]+=' rotate('+t+'deg)',a&&(r[o]=a),r}:function(t,i,e,n,o){return s.scale(i,e,n,o)},s.front=window._css3d?function(t,i){var e=i===!1?{}:{opacity:0};return e[n]='perspective(2000px) translate3d(0 , 0 ,'+t+'px ) rotate(0.001deg)',e}:function(){return i},s.back=window._css3d?function(t,i){var e=i===!1?{}:{opacity:0};return e[n]='perspective(2000px) translate3d(0 , 0 ,'+-t+'px ) rotate(0.001deg)',e}:function(){return i},s.rotatefront=window._css3d?function(t,i,e,s){var a=s===!1?{}:{opacity:0};return a[n]='perspective(2000px) translate3d(0 , 0 ,'+i+'px ) rotate('+(t||.001)+'deg)',e&&(a[o]=e),a}:function(){return i},s.rotateback=window._css3d?function(t,i,e,s){var a=s===!1?{}:{opacity:0};return a[n]='perspective(2000px) translate3d(0 , 0 ,'+-i+'px ) rotate('+(t||.001)+'deg)',e&&(a[o]=e),a}:function(){return i},s.rotate3dleft=window._css3d?function(t,i,e,a,h,r){var l=s.left(a,r);return l[n]+=(t?' rotateX('+t+'deg)':' ')+(i?' rotateY('+i+'deg)':'')+(e?' rotateZ('+e+'deg)':''),h&&(l[o]=h),l}:function(t,i,e,n,o,a){return s.left(n,a)},s.rotate3dright=window._css3d?function(t,i,e,a,h,r){var l=s.right(a,r);return l[n]+=(t?' rotateX('+t+'deg)':' ')+(i?' rotateY('+i+'deg)':'')+(e?' rotateZ('+e+'deg)':''),h&&(l[o]=h),l}:function(t,i,e,n,o,a){return s.right(n,a)},s.rotate3dtop=window._css3d?function(t,i,e,a,h,r){var l=s.top(a,r);return l[n]+=(t?' rotateX('+t+'deg)':' ')+(i?' rotateY('+i+'deg)':'')+(e?' rotateZ('+e+'deg)':''),h&&(l[o]=h),l}:function(t,i,e,n,o,a){return s.top(n,a)},s.rotate3dbottom=window._css3d?function(t,i,e,a,h,r){var l=s.bottom(a,r);return l[n]+=(t?' rotateX('+t+'deg)':' ')+(i?' rotateY('+i+'deg)':'')+(e?' rotateZ('+e+'deg)':''),h&&(l[o]=h),l}:function(t,i,e,n,o,a){return s.bottom(n,a)},s.rotate3dfront=window._css3d?function(t,i,e,a,h,r){var l=s.front(a,r);return l[n]+=(t?' rotateX('+t+'deg)':' ')+(i?' rotateY('+i+'deg)':'')+(e?' rotateZ('+e+'deg)':''),h&&(l[o]=h),l}:function(t,i,e,n,o,a){return s.front(n,a)},s.rotate3dback=window._css3d?function(t,i,e,a,h,r){var l=s.back(a,r);return l[n]+=(t?' rotateX('+t+'deg)':' ')+(i?' rotateY('+i+'deg)':'')+(e?' rotateZ('+e+'deg)':''),h&&(l[o]=h),l}:function(t,i,e,n,o,a){return s.back(n,a)},s.t=window._css3d?function(t,i,e,a,h,r,p,u,m,f,v,w,g,S,b){var c=t===!1?{}:{opacity:0},l='',d;return i!=='n'&&(l+='translateX('+i*s.rf+'px) '),e!=='n'&&(l+='translateY('+e*s.rf+'px) '),a!=='n'&&(l+='translateZ('+a*s.rf+'px) '),h!=='n'&&(l+='rotate('+h+'deg) '),r!=='n'&&(l+='rotateX('+r+'deg) '),p!=='n'&&(l+='rotateY('+p+'deg) '),u!=='n'&&(l+='rotateZ('+u+'deg) '),v!=='n'&&(l+='skewX('+v+'deg) '),w!=='n'&&(l+='skewY('+w+'deg) '),m!=='n'&&(l+='scaleX('+m+') '),f!=='n'&&(l+='scaleY('+f+')'),c[n]=l,d='',d+=g!=='n'?g+'% ':'50% ',d+=S!=='n'?S+'% ':'50% ',d+=b!=='n'?b+'px':'',c[o]=d,c}:function(t,i,e,n,o){var o=t===!1?{}:{opacity:0};return i!=='n'&&(o.left+=i*s.rf+'px'),e!=='n'&&(o.top+=e*s.rf+'px'),o}}}}(jQuery),function(t){window.MSLayerElement=function(){this.$cont=t('<div><\/div>').addClass('layer-cont'),this.start_anim={name:'fade',duration:1e3,ease:'linear',delay:0},this.end_anim={duration:1e3,ease:'linear'},this.type='text',this.swipe=!0,this.resizable=!0,this.minWidth=-1,this.__cssConfig=['margin-top','padding-top','margin-bottom','padding-left','margin-right','padding-right','margin-left','padding-bottom','left','right','top','bottom','font-size','line-height','width','height'],this.baseStyle={}};var i=MSLayerElement.prototype;i.__playAnimation=function(t,i){var e={};t.ease&&(e.ease=t.ease),this.show_tween=CTween.animate(this.$element,t.duration,i,e)},i._randomParam=function(t){var i=Number(t.slice(0,t.indexOf('|'))),e=Number(t.slice(t.indexOf('|')+1));return i+Math.random()*(e-i)},i._parseEff=function(t){var i=[],n,e,s,o;if(t.indexOf('(')!==-1)for(n=t.slice(0,t.indexOf('(')).toLowerCase(),i=t.slice(t.indexOf('(')+1,-1).replace(/"|'|\s/g,'').split(','),t=n,s=0,o=i.length;s<o;++s)e=i[s],e in MSLayerEffects.presetEffParams&&(e=MSLayerEffects.presetEffParams[e]),i[s]=e;return{eff_name:t,eff_params:i}},i._parseEffParams=function(t){for(var s=[],i,e=0,n=t.length;e<n;++e)i=t[e],typeof i=='string'&&i.indexOf('|')!==-1&&(i=this._randomParam(i)),s[e]=i;return s},i._checkPosKey=function(t,i){return t==='left'&&!(t in this.baseStyle)&&'right'in this.baseStyle?(i.right=-parseInt(i.left)+'px',delete i.left,!0):t==='top'&&!(t in this.baseStyle)&&'bottom'in this.baseStyle?(i.bottom=-parseInt(i.top)+'px',delete i.top,!0):!1},i.setStartAnim=function(i){t.extend(this.start_anim,i),t.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css('visibility','hidden')},i.setEndAnim=function(i){t.extend(this.end_anim,i)},i.create=function(){this.$element.css('display','none'),this.$element.removeAttr('data-delay').removeAttr('data-effect').removeAttr('data-duration').removeAttr('data-type'),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),t.extend(this.end_anim,this._parseEff(this.end_anim.name))},i.init=function(){var t,i,s,e;for(this.initialized=!0,this.$element.css('visibility',''),i=0,s=this.__cssConfig.length;i<s;i++)e=this.__cssConfig[i],t=this.type==='text'&&e==='width'?this.$element[0].style.width:this.$element.css(e),t!='auto'&&t!=''&&t!='normal'&&(this.baseStyle[e]=parseInt(t))},i.locate=function(){var e=this.slide.$layers,i=parseFloat(e.css('width')),t;if(this.visible(this.minWidth<i),this.resizable){this.factor=i/this.slide.slider.options.width;for(t in this.baseStyle)this.$element.css(t,this.baseStyle[t]*this.factor+'px')}},i.start=function(){var t,n,e,s,i;if(!this.isShowing){this.isShowing=!0,MSLayerEffects.rf=this.factor,e=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),s={};for(t in e)this._checkPosKey(t,e)||(MSLayerEffects.defaultValues[t]!=null&&(s[t]=MSLayerEffects.defaultValues[t]),t in this.baseStyle&&(n=this.baseStyle[t],e[t]=n+parseFloat(e[t])+'px',s[t]=n+'px'),this.$element.css(t,e[t]));i=this,clearTimeout(this.to),this.to=setTimeout(function(){i.$element.css('display',''),i.__playAnimation(i.start_anim,s)},i.start_anim.delay||.01),this.cl_to=setTimeout(function(){i.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){i.hide()},i.end_anim.time))}},i.hide=function(){this.isShowing=!1;var t=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in t)this._checkPosKey(key,t)||(key===window._jcsspfx+'TransformOrigin'&&this.$element.css(key,t[key]),key in this.baseStyle&&(t[key]=this.baseStyle[key]+parseFloat(t[key])+'px'));this.__playAnimation(this.end_anim,t),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.cl_to)},i.reset=function(){this.isShowing=!1,this.$element[0].style.display='none',this.$element.css('opacity','100'),this.$element[0].style.transitionDuration='0ms',this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto)},i.destroy=function(){this.reset(),this.$element.remove(),this.$cont.remove()},i.visible=function(t){this.isVisible!=t&&(this.isVisible=t,this.$element.css('display',t?'':'none'))}}(jQuery),function(t){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=['margin-top','padding-top','margin-bottom','padding-left','margin-right','padding-right','margin-left','padding-bottom','left','right','top','bottom','width','height']},MSImageLayerElement.extend(MSLayerElement);var i=MSImageLayerElement.prototype,e=MSLayerElement.prototype;i.create=function(){var s,i;if(this.link&&(s=this.$element.parent(),s.append(this.link),this.link.append(this.$element),this.link.removeClass('ms-layer'),this.$element.addClass('ms-layer'),s=null),e.create.call(this),this.$element.data('src')!=undefined?(this.img_src=this.$element.data('src'),this.$element.removeAttr('data-src')):(i=this,this.$element.on('load',function(){i.slide.preloadCount--,i.slide.preloadCount===0&&i.slide.___onlayersReady()}).each(t.jqLoadFix)),t.browser.msie)this.$element.on('dragstart',function(t){t.preventDefault()})},i.loadImage=function(){var t=this;this.$element.preloadImg(this.img_src,function(){t.slide.preloadCount--,t.slide.preloadCount===0&&t.slide.___onlayersReady()})}}(jQuery),function(t){window.MSVideoLayerElement=function(){MSLayerElement.call(this)},MSVideoLayerElement.extend(MSLayerElement);var i=MSVideoLayerElement.prototype,e=MSLayerElement.prototype;i.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,!1),CTween.fadeOut(this.video_btn,500,!1),this.video_frame.attr('src','about:blank').css('display','block'),this.video_url.indexOf('?')==-1&&(this.video_url+='?'),this.video_frame.attr('src',this.video_url+'&autoplay=1')},i.reset=function(){if(e.reset.call(this),(this.needPreload||this.$element.data('btn'))&&(this.video_btn.css('opacity',1),this.video_frame.attr('src','about:blank').css('display','none')),this.needPreload){this.img.css('opacity',1);return};this.video_frame.attr('src',this.video_url)},i.create=function(){var s,i;if((e.create.call(this),this.video_frame=this.$element.find('iframe').css({width:'100%',height:'100%'}),this.video_url=this.video_frame.attr('src'),s=this.$element.has('img').length!=0,s||this.$element.data('btn'))&&(this.video_frame.attr('src','about:blank').css('display','none'),i=this,this.video_btn=t('<div><\/div>').appendTo(this.$element).addClass('ms-video-btn').click(function(){i.__playVideo()}),s)&&(this.needPreload=!0,this.img=this.$element.find('img:first').addClass('ms-video-img'),this.img.data('src')!==undefined?(this.img_src=this.img.data('src'),this.img.removeAttr('data-src')):(i=this,this.img.attr('src',this.img_src).on('load',function(){i.slide.preloadCount--,i.slide.preloadCount==0&&i.slide.___onlayersReady()}).each(t.jqLoadFix)),t.browser.msie))this.img.on('dragstart',function(t){t.preventDefault()})},i.loadImage=function(){var t=this;this.img.preloadImg(this.img_src,function(){t.slide.preloadCount--,t.slide.preloadCount==0&&t.slide.___onlayersReady()})}}(jQuery),function(t){'use strict';window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=['margin-top','padding-top','margin-bottom','padding-left','margin-right','padding-right','margin-left','padding-bottom','left','right','top','bottom'],this.ease='Expo'},MSHotspotLayer.extend(MSLayerElement);var i=MSHotspotLayer.prototype,e=MSLayerElement.prototype;i._showTT=function(){this.show_cl&&(this.align=this._orgAlign,this._locateTT(),this.hide_start=!1,this._tween&&this._tween.stop(!0),this.tt.css({display:'block'}),this._tween=CTween.animate(this.tt,900,this.to,{ease:'easeOut'+this.ease}))},i._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var t=this;this._tween=CTween.animate(this.tt,900,this.from,{ease:'easeOut'+this.ease,complete:function(){t.tt.css('display','none')}})}},i._updateClassName=function(t){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(t),this._lastClass=t},i._alignPolicy=function(){var e=this.tt.outerHeight(),t=Math.max(this.tt.outerWidth(),parseInt(this.tt.css('max-width'))),i=window.innerWidth,s=window.innerHeight;switch(this.align){case'top':if(this.base_t<0)return'bottom';break;case'right':if(this.base_l+t>i||this.base_t<0)return'bottom';break;case'left':if(this.base_l<0||this.base_t<0)return'bottom'};return null},i._locateTT=function(){var a=this.$element.offset(),h=this.slide.slider.$element.offset(),i=50,s=15,e,n,t,o;this.pos_x=a.left-h.left-this.slide.slider.$element.scrollLeft(),this.pos_y=a.top-h.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName('ms-tooltip-'+this.align),this.tt_arrow.css('margin-left',''),e=15,n=15;switch(this.align){case'top':t=Math.max(this.tt.outerWidth(),parseInt(this.tt.css('max-width'))),this.base_t=this.pos_y-this.tt.outerHeight()-n-s,this.base_l=this.pos_x-t/2,this.base_l+t>window.innerWidth&&(this.tt_arrow.css('margin-left',-e/2+this.base_l+t-window.innerWidth+'px'),this.base_l=window.innerWidth-t),this.base_l<0&&(this.base_l=0,this.tt_arrow.css('margin-left',-e/2+this.pos_x-this.tt.outerWidth()/2+'px')),window._css3d?(this.from[window._jcsspfx+'Transform']='translateY(-'+i+'px)',this.to[window._jcsspfx+'Transform']=''):(this.from.top=this.base_t-i+'px',this.to.top=this.base_t+'px');break;case'bottom':t=Math.max(this.tt.outerWidth(),parseInt(this.tt.css('max-width'))),this.base_t=this.pos_y+n+s,this.base_l=this.pos_x-t/2,this.base_l+t>window.innerWidth&&(this.tt_arrow.css('margin-left',-e/2+this.base_l+t-window.innerWidth+'px'),this.base_l=window.innerWidth-t),this.base_l<0&&(this.base_l=0,this.tt_arrow.css('margin-left',-e/2+this.pos_x-this.tt.outerWidth()/2+'px')),window._css3d?(this.from[window._jcsspfx+'Transform']='translateY('+i+'px)',this.to[window._jcsspfx+'Transform']=''):(this.from.top=this.base_t+i+'px',this.to.top=this.base_t+'px');break;case'right':this.base_l=this.pos_x+e+s,this.base_t=this.pos_y-this.tt.outerHeight()/2,window._css3d?(this.from[window._jcsspfx+'Transform']='translateX('+i+'px)',this.to[window._jcsspfx+'Transform']=''):(this.from.left=this.base_l+i+'px',this.to.left=this.base_l+'px');break;case'left':this.base_l=this.pos_x-e-this.tt.outerWidth()-s,this.base_t=this.pos_y-this.tt.outerHeight()/2,window._css3d?(this.from[window._jcsspfx+'Transform']='translateX(-'+i+'px)',this.to[window._jcsspfx+'Transform']=''):(this.from.left=this.base_l-i+'px',this.to.left=this.base_l+'px')};if(o=this._alignPolicy(),o!==null){this.align=o,this._locateTT();return};this.tt.css('top',parseInt(this.base_t)+'px').css('left',parseInt(this.base_l)+'px'),this.tt.css(this.from)},i.start=function(){e.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css('display','none')},i.reset=function(){e.reset.call(this),this.tt.detach()},i.create=function(){var s=this,i,n;e.create.call(this),this._orgAlign=this.align=this.$element.data('align')!==undefined?this.$element.data('align'):'top',this.data=this.$element.html();this.$element.html('').on('mouseenter',function(){s._showTT()}).on('mouseleave',function(){s._hideTT()});if(this.point=t('<div><div class="ms-point-center"><\/div><div class="ms-point-border"><\/div><\/div>').addClass('ms-tooltip-point').appendTo(this.$element),i=this.$element.data('link'),n=this.$element.data('target'),i)this.point.on('click',function(){window.open(i,n||'_self')});this.tt=t('<div><\/div>').addClass('ms-tooltip').css('display','hidden').css('opacity',0),this.tt_arrow=t('<div><\/div>').addClass('ms-tooltip-arrow').appendTo(this.tt),this._updateClassName('ms-tooltip-'+this.align),this.ttcont=t('<div><\/div>').addClass('ms-tooltip-cont').html(this.data).appendTo(this.tt)}}(jQuery),window.MSSliderEvent=function(t){this.type=t},MSSliderEvent.CHANGE_START='changeStart',MSSliderEvent.CHANGE_END='changeEnd',MSSliderEvent.WATING='wating',MSSliderEvent.AUTOPLAY_CHANGE='autoplayChange',MSSliderEvent.VIDEO_PLAY='videoPlay',MSSliderEvent.VIDEO_CLOSE='videoClose',MSSliderEvent.INIT='init',MSSliderEvent.RESIZE='resize',MSSliderEvent.RESERVED_SPACE_CHANGE='rsc',function(t){'use strict';window.MSSlide=function(){this.$element=null,this.$loading=t('<div><\/div>').addClass('ms-slide-loading'),this.layers=[],this.view=null,this.index=-1,this.__width=0,this.__height=0,this.preloadCount=0,this.fillMode='fill',this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.moz=t.browser.mozilla};var i=MSSlide.prototype;i.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},i.onSwipeCancel=function(){this.link&&(this.linkdis=!1),this.video&&(this.videodis=!1)},i.addLayer=function(i){this.hasLayers||(this.$layers=t('<div><\/div>').addClass('ms-slide-layers')),this.hasLayers=!0,this.$layers.append(i.$element),this.layers.push(i),i.slide=this,i.create(),i.needPreload&&this.preloadCount++},i.___onlayersReady=function(){this.ready=!0,this.slider.api._startTimer(),this.selected&&(this.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setup(),CTween.fadeOut(this.$loading,300,!0),(this.slider.options.preload===0||this.slider.options.preload==='all')&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():this.slider.options.preload==='all'&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},i.startLayers=function(){for(var t=0,i=this.layers.length;t<i;++t)this.layers[t].start()},i.initLayers=function(t){if((!this.init||t)&&!this.slider.init_safemode){this.init=!0;for(var i=0,e=this.layers.length;i<e;++i)this.layers[i].init()}},i.locateLayers=function(){for(var t=0,i=this.layers.length;t<i;++t)this.layers[t].locate()},i.resetLayers=function(){this.$layers.css('display','none'),this.$layers.css('opacity',1);for(var t=0,i=this.layers.length;t<i;++t)this.layers[t].reset()},i.hideLayers=function(){if(this.preloadCount===0)for(var t=0,i=this.layers.length;t<i;++t)this.layers[t].hide()},i.showLayers=function(){this.hasLayers&&(this.lht&&(this.lht.reset?this.lht.reset():this.lht.stop('true')),this.resetLayers(),this.$layers.css('opacity',1).css('display',''),this.preloadCount===0&&(this.initLayers(),this.locateLayers(),this.startLayers()))},i.setBG=function(i){this.hasBG=!0;var e=this;this.$imgcont=t('<div><\/div>').addClass('ms-slide-bgcont'),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=t(i).css('visibility','hidden'),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(e.fillMode,e.$imgcont,e.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,e.slider.options.autoHeight&&(e.pselected||e.selected)&&e.slider.setHeight(e.slider.options.height),this.$bg_img.data('src')!==undefined?(this.bg_src=this.$bg_img.data('src'),this.$bg_img.removeAttr('data-src')):this.$bg_img.one('load',function(t){e._onBGLoad(t)}).each(t.jqLoadFix),this.preloadCount++},i._onBGLoad=function(i){if(this.bgNatrualWidth=i.width,this.bgNatrualHeight=i.height,this.bgLoaded=!0,t.browser.msie)this.$bg_img.on('dragstart',function(t){t.preventDefault()});this.preloadCount--,this.preloadCount===0&&this.___onlayersReady()},i.loadImages=function(){var i,t,e;if(!this.ls){for(this.ls=!0,this.hasBG&&this.bg_src&&(i=this,this.$bg_img.preloadImg(this.bg_src,function(t){i._onBGLoad(t)})),t=0,e=this.layers.length;t<e;++t)this.layers[t].needPreload&&this.layers[t].loadImage();this.bgvideo&&this.bgvideo.load()}},i.setBGVideo=function(i){if(i[0].play){if(window._mobile){i.remove();return};this.bgvideo=i[0];var e=this;i.addClass('ms-slide-bgvideo'),i.data('loop')!==!1&&this.bgvideo.addEventListener('ended',function(){e.bgvideo.play()}),i.data('mute')!==!1&&(this.bgvideo.muted=!0),i.data('autopause')===!0&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=i.data('fill-mode')||'fill',this.bgvideo_fillmode!=='none'&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,i),this.bgvideo.addEventListener('loadedmetadata',function(){e.vinit||(e.vinit=!0,e.video_aspect=e.bgVideoAligner.baseHeight/e.bgVideoAligner.baseWidth,e.bgVideoAligner.init(e.bgvideo.videoWidth,e.bgvideo.videoHeight),e._alignBGVideo(),CTween.fadeIn(t(e.bgvideo),200),e.selected&&e.bgvideo.play())})),i.css('opacity',0),this.$bgvideocont=t('<div><\/div>').addClass('ms-slide-bgvideocont').append(i),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},i._alignBGVideo=function(){this.bgvideo_fillmode&&this.bgvideo_fillmode!=='none'&&this.bgVideoAligner.align()},i.setSize=function(t,i,e){this.__width=t,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,i=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(i)):(this.ratio=t/this.slider.options.width,i=this.slider.options.height*this.ratio)),this.__height=i,this.$element.width(t).height(i),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),e&&this.selected&&this.initLayers(e),this.selected&&this.locateLayers(),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+'px'),this.slider.options.layersMode=='center'&&(this.$layers[0].style.left=Math.max(0,(this.__width-this.slider.options.width)/2)+'px'))},i.getHeight=function(){return this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},i.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css('display',''),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css('display','block').attr('src',this.video+'&autoplay=1'),this.view.$element.addClass('ms-def-cursor'),this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},i.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var t=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){t.vcbtn.css('display','none')}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){t.vframe.attr('src','about:blank').css('display','none')}}),this.view.swipeControl.enable(),this.view.$element.removeClass('ms-def-cursor'),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},i.create=function(){var i=this;this.hasLayers&&(this.$element.append(this.$layers),this.slider.options.layersMode=='center'&&this.$layers.css('max-width',this.slider.options.width+'px')),this.link&&this.$element.css('cursor','pointer').click(function(){i.linkdis||window.open(i.link,i.link_targ||'_self')}),this.video&&(this.video.indexOf('?')===-1&&(this.video+='?'),this.vframe=t('<iframe><\/iframe>').addClass('ms-slide-video').css({width:'100%',height:'100%',display:'none'}).attr('src','about:blank').appendTo(this.$element),this.vpbtn=t('<div><\/div>').addClass('ms-slide-vpbtn').click(function(){i.__playVideo()}).appendTo(this.$element),this.vcbtn=t('<div><\/div>').addClass('ms-slide-vcbtn').click(function(){i.__closeVideo()}).appendTo(this.$element).css('display','none'),window._touch&&this.vcbtn.removeClass('ms-slide-vcbtn').addClass('ms-slide-vcbtn-mobile').append('<div class="ms-vcbtn-txt">Close video<\/div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css('height','100%'),(this.fillMode==='center'||this.fillMode==='stretch')&&(this.fillMode='fill')),this.sleep()},i.destroy=function(){for(var t=0,i=this.layers.length;t<i;++t)this.layers[t].$element.stop(!0).remove();this.$element.remove(),this.$element=null},i.setup=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css('visibility',''),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},i.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.loadImages(),this.preloadCount===0&&(this.bgvideo&&this.bgvideo.play(),this.slider.options.instantStartLayers&&this.showLayers()),this.moz&&this.$element.css('margin-top',''))},i.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass('ms-sl-selected'),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+'px'),this.slider.options.instantStartLayers||this.showLayers()),this.preloadCount===0&&this.bgvideo&&this.bgvideo.play())},i.unselect=function(){if(this.pselected=!1,this.moz&&this.$element.css('margin-top','0.1px'),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.selected){if(this.selected=!1,this.$element.removeClass('ms-sl-selected'),this.hasLayers){var t=this;t.lht=CTween.animate(this.$layers,500,{opacity:0},{complete:function(){t.resetLayers()}})};this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1)}},i.sleep=function(){this.isSleeping||(this.isSleeping=!0,this.autoAppend&&this.$element.detach())},i.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css('margin-top','0.1px'),this.setup(),this.hasBG&&this.bgAligner.align())}}(jQuery),function(t){'use strict';var e={},i;window.MSSlideController=function(t){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=t,this.so=t.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(t,i){if(t in e)throw new Error(t+', is already registered.');e[t]=i},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(t,i){if(t in MSSlideController.SliderControlList)throw new Error(t+', is already registered.');MSSlideController.SliderControlList[t]=i},i=MSSlideController.prototype,i.setupView=function(){var i=this,n,s;this.resize_listener=function(){i.__resize()},n={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin},this.so.viewOptions&&t.extend(n,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1),s=e[this.slider.options.view]||MSBasicView,s._3dreq&&(!window._css3d||t.browser.msie)&&(s=s._fallback||MSBasicView),this.view=new s(n),this.so.overPause&&(i=this,this.slider.$element.mouseenter(function(){i.is_over=!0,i._stopTimer()}).mouseleave(function(){i.is_over=!1,i._startTimer()}))},i.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},i.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){for(var t,e=this.so.preload-1,i=1;i<=e;++i){if(t=this.view.index+i,t>=this.view.slideList.length)if(this.so.loop)t=t-this.view.slideList.length;else{i=e;continue};this.view.slideList[t].loadImages()};for(e>this.view.slideList.length/2&&(e=Math.floor(this.view.slideList.length/2)),i=1;i<=e;++i){if(t=this.view.index-i,t<0)if(this.so.loop)t=this.view.slideList.length+t;else{i=e;continue};this.view.slideList[t].loadImages()}};this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},i.onSwipeStart=function(){this.skipTimer()},i.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WATING))},i.onTimer=function(){this._timer.getTime()>=this.view.currentSlide.delay*1e3&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(this.view.currentSlide.delay*10),this.so.hideLayers&&!this.hideCalled&&this.view.currentSlide.delay*1e3-this._timer.getTime()<=300&&(this.view.currentSlide.hideLayers(),this.hideCalled=!0),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WATING))},i._stopTimer=function(){this._timer&&this._timer.stop()},i._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},i.__appendSlides=function(){var i,e,t=0,s=this.view.slideList.length-1;for(t;t<s;++t)i=this.view.slideList[t],i.detached||(i.$element.detach(),i.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),s=3,t=1;t<=s;++t){if(e=this.view.index+t,e>=this.view.slideList.length)if(this.so.loop)e=e-this.view.slideList.length;else{t=s;continue};i=this.view.slideList[e],i.detached=!1,this.view.appendSlide(i)};for(s>this.view.slideList.length/2&&(s=Math.floor(this.view.slideList.length/2)),t=1;t<=s;++t){if(e=this.view.index-t,e<0)if(this.so.loop)e=this.view.slideList.length+e;else{t=s;continue};i=this.view.slideList[e],i.detached=!1,this.view.appendSlide(i)}},i.__resize=function(t){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,t),this.view.setSize(this.width,this.currentSlide.getHeight(),t)):this.view.setSize(this.width,this.so.heightLimit?Math.min(this.height,this.so.height):this.height,t),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css('left',Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+'px'),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},i.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},i.setup=function(){if(this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slides[this.so.start-1],this.__resize(),this.view.create(this.so.start-1),this.so.preload===0&&this.view.slides[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var i=this,e=(new Date).getTime();this.wheellistener=function(t){var o=(new Date).getTime(),s,n;if(!(o-e<350))return e=o,s=window.event||t.orginalEvent||t,n=Math.max(-1,Math.min(1,s.wheelDelta||-s.detail)),n<0?i.next():n>0&&i.previous(),!1},t.browser.mozilla?this.slider.$element[0].addEventListener('DOMMouseScroll',this.wheellistener):this.slider.$element.bind('mousewheel',this.wheellistener)};this.slider.$element[0].clientWidth===0&&(this.slider.init_safemode=!0),this.__resize()},i.index=function(){return this.view.index},i.count=function(){return this.view.slidesCount},i.next=function(){this.skipTimer(),this.view.next()},i.previous=function(){this.skipTimer(),this.view.previous()},i.gotoSlide=function(t){this.skipTimer(),this.view.gotoSlide(t)},i.destroy=function(t){this.slider.destroy(t)},i._destroy=function(){this._timer.reset(),this._timer=null,t(window).unbind('resize',this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(t.browser.mozilla?this.slider.$element[0].removeEventListener('DOMMouseScroll',this.wheellistener):this.slider.$element.unbind('mousewheel',this.wheellistener),this.wheellistener=null),this.so=null},i.update=function(t){this.slider.init_safemode&&t&&(this.slider.init_safemode=!1),this.__resize(t)},i.locate=function(){this.__resize()},i.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},i.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},i.currentTime=function(){return this._delayProgress},averta.EventDispatcher.extend(i)}(jQuery),function(t){'use strict';var e={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer},i;window.MasterSlider=function(){this.options={autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:'fill',start:1,view:'basic',width:300,height:150,inView:15,critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:'center',hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:'h',preload:0,wheel:!1,layout:'boxed',fullscreenMargin:0,instantStartLayers:!1},this.slides=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0;var i=this;this.resize_listener=function(){i._resize()},t(window).bind('resize',this.resize_listener)},MasterSlider.author='Averta Ltd. (www.averta.net)',MasterSlider.version='1.5.7',MasterSlider.releaseDate='March 2014',i=MasterSlider.prototype,i.__setupSlides=function(){var e=this,i,s=0;this.$element.children('.ms-slide').each(function(){var n=t(this),a,h,o,r,l;if(i=new MSSlide,i.$element=n,i.slider=e,i.delay=n.data('delay')!==undefined?n.data('delay'):3,i.fillMode=n.data('fill-mode')!==undefined?n.data('fill-mode'):e.options.fillMode,i.index=s++,a=n.children('img'),a.length>0&&i.setBG(a[0]),h=n.children('video'),h.length>0&&i.setBGVideo(h),e.controls)for(o=0,r=e.controls.length;o<r;++o)e.controls[o].slideAction(i);l=n.children('a').each(function(){var e=t(this);this.getAttribute('data-type')==='video'?(i.video=this.getAttribute('href'),e.remove()):e.hasClass('ms-layer')||(i.link=this.getAttribute('href'),i.link_targ=this.getAttribute('target'),e.remove())}),e.__createSlideLayers(i,n.find('.ms-layer')),e.slides.push(i),e.slideController.view.addSlide(i)})},i.__createSlideLayers=function(i,s){s.length!=0&&s.each(function(s,n){var o,l,a,h,r;n.nodeName==='A'?(l=t(this),o=l.find('img')):o=t(this),a=new e[o.data('type')||'text'],a.$element=o,a.link=l,h={},r={},o.data('effect')!==undefined&&(h.name=o.data('effect')),o.data('ease')!==undefined&&(h.ease=o.data('ease')),o.data('duration')!==undefined&&(h.duration=o.data('duration')),o.data('delay')!==undefined&&(h.delay=o.data('delay')),o.data('hide-effect')&&(r.name=o.data('hide-effect')),o.data('hide-ease')&&(r.ease=o.data('hide-ease')),o.data('hide-duration')!==undefined&&(r.duration=o.data('hide-duration')),o.data('hide-time')!==undefined&&(r.time=o.data('hide-time')),o.data('resize')!==undefined&&(a.resizable=o.data('resize')),o.data('swipe')!==undefined&&(a.swipe=o.data('swipe')),o.data('widthlimit')!==undefined&&(a.minWidth=o.data('widthlimit')),a.setStartAnim(h),a.setEndAnim(r),i.addLayer(a)})},i._removeLoading=function(){t(window).unbind('resize',this.resize_listener),this.$element=t('#'+this.id).removeClass('before-init').css('visibility','visible').css('height','').css('opacity',0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},i._resize=function(){if(this.$loading){var t=this.$loading[0].clientWidth/this.aspect;t=this.options.heightLimit?Math.min(t,this.options.height):t,this.$loading.height(t),this.$element.height(t)}},i._shuffleSlides=function(){for(var t=this.$element.children('.ms-slide'),e,i=0,s=t.length;i<s;++i)e=Math.floor(Math.random()*(s-1)),i!=e&&(this.$element[0].insertBefore(t[i],t[e]),t=this.$element.children('.ms-slide'))},i._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var i=this.options.layout;i!=='boxed'&&i!=='partialview'&&(this.options.fullwidth=!0),(i==='fullscreen'||i==='autofill')&&(this.options.fullheight=!0),i==='partialview'&&this.$element.addClass('ms-layout-partialview'),(i==='fullscreen'||i==='fullwidth')&&(t(window).bind('resize',{that:this},this._updateLayout),this._updateLayout()),t(window).bind('resize',this.slideController.resize_listener)},i._updateLayout=function(i){var e=i?i.data.that:this,o=e.options.layout,s=e.$element,n;s.width(t('body').innerWidth()-e.leftSpace-e.rightSpace),n=-s.offset().left+e.leftSpace+e.lastMargin,s.css('margin-left',n),e.lastMargin=n,o==='fullscreen'&&s.height(window.innerHeight-e.options.fullscreenMargin-e.topSpace-e.bottomSpace)},i._init=function(){var i,s,e;if(!this.preventInit){if(this.initialized=!0,this.options.preload!=='all'&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.controls){for(this.$controlsCont=t('<div><\/div>').addClass('ms-container').appendTo(this.$element),this.options.centerControls&&this.$controlsCont.css('max-width',this.options.width+'px'),i=0,s=this.controls.length;i<s;++i)this.controls[i].setup();this.$controlsCont.prepend(this.view.$element)}
else this.$element.append(this.view.$element);if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this.controls)for(i=0,s=this.controls.length;i<s;++i)this.controls[i].create();this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse&&(e=this.view.$element,e.mousedown(function(){e.removeClass('ms-grab-cursor'),e.addClass('ms-grabbing-cursor')}).addClass('ms-grab-cursor'),t(document).mouseup(function(){e.removeClass('ms-grabbing-cursor'),e.addClass('ms-grab-cursor')})),this.slideController.__dispatchInit()}},i.setHeight=function(t){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:t},{ease:'easeOutQuart'})):this.slideController.view.$element.height(t)},i.reserveSpace=function(t,i){var e=t+'Space',s=this[e];return this[e]+=i,this._updateSideMargins(),s},i._updateSideMargins=function(){this.$element.css('margin',this.topSpace+'px '+this.rightSpace+'px '+this.bottomSpace+'px '+this.leftSpace+'px')},i._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},i.control=function(t,i){if(t in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var e=new MSSlideController.SliderControlList[t](i);return e.slider=this,this.controls.push(e),this}},i.setup=function(i,e){var s,n,o;if(this.id=i,this.$element=typeof i=='string'?t('#'+i):i.eq(0),this.setupMarkup=this.$element.html(),this.$element.length===0){console&&console.log('Master Slider Error: #'+i+' not found.');return};return this.$element.addClass('master-slider').addClass('before-init'),t.browser.msie&&this.$element.addClass('ms-ie').addClass('ms-ie'+t.browser.version.slice(0,t.browser.version.indexOf('.'))),s=navigator.userAgent.toLowerCase(),n=s.indexOf('android')>-1,n&&this.$element.addClass('ms-android'),o=this,t.extend(this.options,e),this.aspect=this.options.width/this.options.height,this.$loading=t('<div><\/div>').addClass('ms-loading-container').insertBefore(this.$element).append(t('<div><\/div>').addClass('ms-loading')),this.$loading.parent().css('position','relative'),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass('ms-fullheight'),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController,t(document).ready(function(){o._init()}),this},i.destroy=function(i){var e,n,s;if(this.controls)for(e=0,n=this.controls.length;e!==n;e++)this.controls[e].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),i?this.$element.html(this.setupMarkup).css('visibility','hidden'):this.$element.remove(),s=this.options.layout,(s==='fullscreen'||s==='fullwidth')&&t(window).unbind('resize',this._updateLayout)}}(jQuery),window.MSViewEvents=function(t){this.type=t},MSViewEvents.SWIPE_START='swipeStart',MSViewEvents.SWIPE_END='swipeEnd',MSViewEvents.SWIPE_MOVE='swipeMove',MSViewEvents.SWIPE_CANCEL='swipeCancel',MSViewEvents.SCROLL='scoll',MSViewEvents.CHANGE_START='slideChangeStart',MSViewEvents.CHANGE_END='slideChangeEnd',function(t){'use strict';window.MSBasicView=function(i){this.options={loop:!1,dir:'h',autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},t.extend(this.options,i),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb=this.dir==='h'?'left':'top',this.__offset=this.dir==='h'?'offsetLeft':'offsetTop',this.__dimension=this.dir==='h'?'__width':'__height',this.__translate_end=window._css3d?' translateZ(0px)':'',this.$slideCont=t('<div><\/div>').addClass('ms-slide-container'),this.$element=t('<div><\/div>').addClass('ms-view').addClass('ms-basic-view').append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-this.options.speed*.5)/100,endless:this.loop}),this.controller.renderCallback(this.dir==='h'?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var i=MSBasicView.prototype;i.__snapCompelet=function(){this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END))},i.__snapUpdate=function(i,e,s){var n,o;if(this.loop)n=this.index+s,this.updateLoop(n),n>=this.slidesCount&&(n=n-this.slidesCount),n<0&&(n=this.slidesCount+n),this.index=n;else{if(e<0||e>=this.slidesCount)return;this.index=e}(this._checkCritMargins(),t.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop='0.1px',this.currentSlide&&(this.currentSlide.$element[0].style.marginTop='')),o=this.slideList[this.index],o!==this.currentSlide)&&(this.currentSlide=o,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},i._checkCritMargins=function(){if(!this.normalMode){var s=Math.floor(this.options.viewNum/2),i=this.viewSlidesList.indexOf(this.slideList[this.index]),e=this[this.__dimension]+this.spacing,t=this.options.critMargin;if(this.loop){(i<=t||i>=this.viewSlidesList.length-t)&&(e*=i-s,this.__locateSlides(!1,e+this.start_buffer),this.start_buffer+=e);return}(i<t&&this.index>=t||i>=this.viewSlidesList.length-t&&this.index<this.slidesCount-t)&&this.__locateSlides(!1)}},i._vertiUpdate=function(t,i){if(this.__contPos=i,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3){this.$slideCont[0].style[window._jcsspfx+'Transform']='translateY('+-i+'px)'+this.__translate_end;return};this.$slideCont[0].style.top=-i+'px'},i._horizUpdate=function(t,i){if(this.__contPos=i,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3){this.$slideCont[0].style[window._jcsspfx+'Transform']='translateX('+-i+'px)'+this.__translate_end;return};this.$slideCont[0].style.left=-i+'px'},i.__updateViewList=function(){var i,t,e,s;if(this.normalMode){this.viewSlidesList=this.slides;return};if(i=this.viewSlidesList.slice(),this.viewSlidesList=[],t=0,e=Math.floor(this.options.viewNum/2),this.loop)for(;t!==this.options.viewNum;t++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-e+t]);else{for(t=0;t!==e&&this.index-t!=-1;t++)this.viewSlidesList.unshift(this.slideList[this.index-t]);for(t=1;t!==e&&this.index+t!==this.slidesCount;t++)this.viewSlidesList.push(this.slideList[this.index+t])};for(t=0,s=i.length;t!==s;t++)this.viewSlidesList.indexOf(i[t])===-1&&i[t].sleep();i=null},i.__locateSlides=function(t,i){var o,s,e,n;for(this.__updateViewList(),i=this.loop?i||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing),o=this.viewSlidesList.length,e=0;e!==o;e++)n=i+e*(this[this.__dimension]+this.spacing),s=this.viewSlidesList[e],s.wakeup(),s.position=n,s.$element[0].style[this.__cssProb]=n+'px';t!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},i.__createLoopList=function(){var i=[],t=0,e=this.slidesCount/2,s=this.slidesCount%2==0?e-1:Math.floor(e),n=this.slidesCount%2==0?e:Math.floor(e);for(this.currentSlideLoc=s,t=1;t<=s;++t)i.unshift(this.slideList[this.index-t<0?this.slidesCount-t+this.index:this.index-t]);for(i.push(this.slideList[this.index]),t=1;t<=n;++t)i.push(this.slideList[this.index+t>=this.slidesCount?this.index+t-this.slidesCount:this.index+t]);return i},i.__getSteps=function(t,i){var e=i<t?this.slidesCount-t+i:i-t,s=Math.abs(this.slidesCount-e);return e<s?e:-s},i.__pushEnd=function(){var t=this.slides.shift(),e=this.slides[this.slidesCount-2],i;(this.slides.push(t),this.normalMode)&&(i=e.$element[0][this.__offset]+this.spacing+this[this.__dimension],t.$element[0].style[this.__cssProb]=i+'px',t.position=i)},i.__pushStart=function(){var t=this.slides.pop(),e=this.slides[0],i;(this.slides.unshift(t),this.normalMode)&&(i=e.$element[0][this.__offset]-this.spacing-this[this.__dimension],t.$element[0].style[this.__cssProb]=i+'px',t.position=i)},i.addSlide=function(t){t.view=this,this.slides.push(t),this.slideList.push(t),this.slidesCount++},i.appendSlide=function(t){this.$slideCont.append(t.$element)},i.updateLoop=function(t){var i,e,s;if(this.loop)for(i=this.__getSteps(this.index,t),e=0,s=Math.abs(i);e<s;++e)i<0?this.__pushStart():this.__pushEnd()},i.gotoSlide=function(t,i){this.updateLoop(t),this.index=t;var e=this.slideList[this.index];(this._checkCritMargins(),this.controller.changeTo(e.position,!i,null,null,!1),e!==this.currentSlide)&&(this.currentSlide=e,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),i&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},i.next=function(){this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},i.previous=function(){this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},i.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType=this.dir==='h'?'horizontal':'vertical';var t=this;this.swipeControl.onSwipe=this.dir==='h'?function(i){t.horizSwipeMove(i)}:function(i){t.vertSwipeMove(i)}},i.vertSwipeMove=function(t){var i=t.phase,e;i==='start'?(this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START))):i==='move'&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+t.moveY)<this.cont_size/2)?this.controller.drag(t.moveY):(i==='end'||i==='cancel')&&(e=t.distanceY/t.duration*50/3,Math.abs(e)>.1?(this.controller.push(-e),e>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL))))},i.horizSwipeMove=function(t){var i=t.phase,e;i==='start'?(this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START))):i==='move'&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+t.moveX)<this.cont_size/2)?this.controller.drag(t.moveX):(i==='end'||i==='cancel')&&(e=t.distanceX/t.duration*50/3,Math.abs(e)>.1?(this.controller.push(-e),e>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL))))},i.setSize=function(t,i,e){if(this.lastWidth!==t||i!==this.lastHeight||e){this.$element.width(t).height(i);for(var s=0;s<this.slidesCount;++s)this.slides[s].setSize(t,i,e);this.__width=t,this.__height=i,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=t,this.lastHeight=i)}},i.create=function(t){this.__created=!0,this.index=Math.min(t||0,this.slidesCount-1),this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum,this.__locateSlides();for(var i=0;i<this.slidesCount;++i)this.slides[i].create();this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},i.destroy=function(){if(this.__created){for(var t=0;t<this.slidesCount;++t)this.slides[t].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(i),MSSlideController.registerView('basic',MSBasicView)}(jQuery),function(){'use strict';window.MSWaveView=function(t){MSBasicView.call(this,t),this.$element.removeClass('ms-basic-view').addClass('ms-wave-view'),this.$slideCont.css(window._csspfx+'transform-style','preserve-3d')},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var t=MSWaveView.prototype,i=MSBasicView.prototype;t._horizUpdate=function(t,e){var o,n,a,s;for(i._horizUpdate.call(this,t,e),o=-e,s=0;s<this.slidesCount;++s)n=this.slideList[s],a=-o-n.position,this.__updateSlidesHoriz(n,a)},t._vertiUpdate=function(t,e){var o,n,a,s;for(i._vertiUpdate.call(this,t,e),o=-e,s=0;s<this.slidesCount;++s)n=this.slideList[s],a=-o-n.position,this.__updateSlidesVertic(n,a)},t.__updateSlidesHoriz=function(t,i){var e=Math.abs(i*100/this.__width);t.$element.css(window._csspfx+'transform','translateZ('+-e*3+'px) rotateY(0.01deg)')},t.__updateSlidesVertic=function(t,i){this.__updateSlidesHoriz(t,i)},MSSlideController.registerView('wave',MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(t){MSWaveView.call(this,t),this.$element.removeClass('ms-wave-view').addClass('ms-fade-basic-view')},MSFadeBasicView.extend(MSWaveView);var t=MSFadeBasicView.prototype,i=MSFadeBasicView.prototype;t.__updateSlidesHoriz=function(t,i){var e=Math.abs(i*.6/this.__width);e=1-Math.min(e,.6),t.$element.css('opacity',e)},t.__updateSlidesVertic=function(t,i){this.__updateSlidesHoriz(t,i)},MSSlideController.registerView('fadeBasic',MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(t){MSWaveView.call(this,t),this.$element.removeClass('ms-wave-view').addClass('ms-fade-wave-view')},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;var t=MSFadeWaveView.prototype,i=MSWaveView.prototype;t.__updateSlidesHoriz=function(t,i){var e=Math.abs(i*100/this.__width);e=Math.min(e,100),t.$element.css('opacity',1-e/300),t.$element.css(window._csspfx+'transform','scale('+(1-e/800)+') rotateY(0.01deg) ')},t.__updateSlidesVertic=function(t,i){this.__updateSlidesHoriz(t,i)},MSSlideController.registerView('fadeWave',MSFadeWaveView)}(),function(){'use strict';window.MSFlowView=function(t){MSWaveView.call(this,t),this.$element.removeClass('ms-wave-view').addClass('ms-flow-view')},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;var t=MSFlowView.prototype,i=MSWaveView.prototype;t.__updateSlidesHoriz=function(t,i){var e=Math.abs(i*100/this.__width),s=Math.min(e*.3,30)*(i<0?-1:1),n=e*1.2;t.$element[0].style[window._jcsspfx+'Transform']='translateZ('+-n*5+'px) rotateY('+s+'deg) '},t.__updateSlidesVertic=function(t,i){var e=Math.abs(i*100/this.__width),s=Math.min(e*.3,30)*(i<0?-1:1),n=e*1.2;t.$element[0].style[window._jcsspfx+'Transform']='translateZ('+-n*5+'px) rotateX('+-s+'deg) '},MSSlideController.registerView('flow',MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(t){MSWaveView.call(this,t),this.$element.removeClass('ms-wave-view').addClass('ms-fade-flow-view')},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;var t=MSFadeFlowView.prototype,i=MSWaveView.prototype;t.__calculate=function(t){var i=Math.min(Math.abs(t*100/this.__width),100),e=Math.min(i*.5,50)*(t<0?-1:1);return{value:i,rvalue:e}},t.__updateSlidesHoriz=function(t,i){var e=this.__calculate(i);t.$element.css('opacity',1-e.value/300),t.$element[0].style[window._csspfx+'transform']='translateZ('+-e.value+'px) rotateY('+e.rvalue+'deg) '},t.__updateSlidesVertic=function(t,i){var e=this.__calculate(i);t.$element.css('opacity',1-e.value/300),t.$element[0].style[window._csspfx+'transform']='translateZ('+-e.value+'px) rotateX('+-e.rvalue+'deg) '},MSSlideController.registerView('fadeFlow',MSFadeFlowView)}(),function(t){'use strict';window.MSMaskView=function(t){MSBasicView.call(this,t),this.$element.removeClass('ms-basic-view').addClass('ms-mask-view')},MSMaskView.extend(MSBasicView);var i=MSMaskView.prototype,e=MSBasicView.prototype;i.addSlide=function(i){i.view=this,i.$frame=t('<div><\/div>').addClass('ms-mask-frame').append(i.$element),i.$element[0].style.position='relative',i.autoAppend=!1,this.slides.push(i),this.slideList.push(i),this.slidesCount++},i.setSize=function(t,i){for(var n=this.slides[0].slider,s=0;s<this.slidesCount;++s)this.slides[s].$frame[0].style.width=t+'px',n.options.autoHeight||(this.slides[s].$frame[0].style.height=i+'px');e.setSize.call(this,t,i)},i._horizUpdate=function(t,i){e._horizUpdate.call(this,t,i);var s=0;if(this.css3){for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style[window._jcsspfx+'Transform']='translateX('+(i-this.slideList[s].position)+'px)'+this.__translate_end;return};for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style.left=i-this.slideList[s].position+'px'},i._vertiUpdate=function(t,i){e._vertiUpdate.call(this,t,i);var s=0;if(this.css3){for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style[window._jcsspfx+'Transform']='translateY('+(i-this.slideList[s].position)+'px)'+this.__translate_end;return};for(s=0;s<this.slidesCount;++s)this.slideList[s].$element[0].style.top=i-this.slideList[s].position+'px'},i.__pushEnd=function(){var t=this.slides.shift(),e=this.slides[this.slidesCount-2],i;(this.slides.push(t),this.normalMode)&&(i=e.$frame[0][this.__offset]+this.spacing+this[this.__dimension],t.$frame[0].style[this.__cssProb]=i+'px',t.position=i)},i.__pushStart=function(){var t=this.slides.pop(),e=this.slides[0],i;(this.slides.unshift(t),this.normalMode)&&(i=e.$frame[0][this.__offset]-this.spacing-this[this.__dimension],t.$frame[0].style[this.__cssProb]=i+'px',t.position=i)},i.__updateViewList=function(){var i,t,e,s;if(this.normalMode){this.viewSlidesList=this.slides;return};if(i=this.viewSlidesList.slice(),this.viewSlidesList=[],t=0,e=Math.floor(this.options.viewNum/2),this.loop)for(;t!==this.options.viewNum;t++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-e+t]);else{for(t=0;t!==e&&this.index-t!=-1;t++)this.viewSlidesList.unshift(this.slideList[this.index-t]);for(t=1;t!==e&&this.index+t!==this.slidesCount;t++)this.viewSlidesList.push(this.slideList[this.index+t])};for(t=0,s=i.length;t!==s;t++)this.viewSlidesList.indexOf(i[t])===-1&&(i[t].sleep(),i[t].$frame.detach());i=null},i.__locateSlides=function(t,i){var o,e,s,n;for(this.__updateViewList(),i=this.loop?i||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing),o=this.viewSlidesList.length,s=0;s!==o;s++)n=i+s*(this[this.__dimension]+this.spacing),e=this.viewSlidesList[s],this.$slideCont.append(e.$frame),e.wakeup(!1),e.position=n,e.$frame[0].style[this.__cssProb]=n+'px';t!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView('mask',MSMaskView)}(jQuery),function(){'use strict';window.MSFadeView=function(t){MSBasicView.call(this,t),this.$element.removeClass('ms-basic-view').addClass('ms-fade-view'),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var t=MSFadeView.prototype,i=MSBasicView.prototype;t.__update=function(t,i){for(var o=-i,e,n,s=0;s<this.slidesCount;++s)e=this.slideList[s],n=-o-e.position,this.__updateSlides(e,n)},t.__updateSlides=function(t,i){var e=Math.abs(i/this[this.__dimension]);1-e<=0?t.$element.fadeTo(0,0).css('visibility','hidden'):t.$element.fadeTo(0,1-e).css('visibility','')},t.__locateSlides=function(t,i){var n,s,e,o;for(this.__updateViewList(),i=this.loop?i||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing),n=this.viewSlidesList.length,e=0;e!==n;e++)o=i+e*this[this.__dimension],s=this.viewSlidesList[e],s.wakeup(),s.position=o;t!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},t.__pushEnd=function(){var t=this.slides.shift(),i=this.slides[this.slidesCount-2];this.slides.push(t),t.position=i.position+this[this.__dimension]},t.__pushStart=function(){var t=this.slides.pop(),i=this.slides[0];this.slides.unshift(t),t.position=i.position-this[this.__dimension]},t.create=function(t){i.create.call(this,t),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView('fade',MSFadeView)}(jQuery),function(){'use strict';window.MSScaleView=function(t){MSBasicView.call(this,t),this.$element.removeClass('ms-basic-view').addClass('ms-scale-view'),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var t=MSScaleView.prototype,i=MSFadeView.prototype;t.__updateSlides=function(t,i){var e=Math.abs(i/this[this.__dimension]);1-e<=0?t.$element.fadeTo(0,0).css('visibility','hidden'):t.$element.fadeTo(0,1-e).css('visibility','').css(window._jcsspfx+'Transform','perspective(2000px) translateZ('+e*(i<0?-.5:.5)*300+'px)')},t.create=function(t){i.create.call(this,t),this.controller.options.minValidDist=.03},MSSlideController.registerView('scale',MSScaleView)}(jQuery),function(){'use strict';var i=2e3,t,e;window.MSFocusView=function(t){MSWaveView.call(this,t),this.$element.removeClass('ms-wave-view').addClass('ms-focus-view'),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView,t=MSFocusView.prototype,e=MSWaveView.prototype,t.__calcview=function(t,e){var s=e/2*t/(t+i);return s*(t+i)/i},t.__updateSlidesHoriz=function(t,i){var e=Math.abs(i*100/this.__width);e=-Math.min(e,100)*15,t.$element.css(window._csspfx+'transform','translateZ('+e+'px) rotateY(0.01deg) translateX('+(i<0?1:-1)*-this.__calcview(e,this.__width)*this.options.centerSpace+'px)')},t.__updateSlidesVertic=function(t,i){var e=Math.abs(i*100/this.__width);e=-Math.min(e,100)*15,t.$element.css(window._csspfx+'transform','translateZ('+e+'px) rotateY(0.01deg) translateY('+(i<0?1:-1)*-this.__calcview(e,this.__width)*this.options.centerSpace+'px)')},MSSlideController.registerView('focus',MSFocusView)}(),function(){window.MSPartialWaveView=function(t){MSWaveView.call(this,t),this.$element.removeClass('ms-wave-view').addClass('ms-partial-wave-view')},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;var t=MSPartialWaveView.prototype,i=MSWaveView.prototype;t.__updateSlidesHoriz=function(t,i){var e=Math.abs(i*100/this.__width);t.$bg_img.css('opacity',(100-Math.abs(i*120/this.__width/3))/100),t.$element.css(window._csspfx+'transform','translateZ('+-e*3+'px) rotateY(0.01deg) translateX('+i*.75+'px)')},t.__updateSlidesVertic=function(t,i){var e=Math.abs(i*100/this.__width);t.$bg_img.css('opacity',(100-Math.abs(i*120/this.__width/3))/100),t.$element.css(window._csspfx+'transform','translateZ('+-e*3+'px) rotateY(0.01deg) translateY('+i*.75+'px)')},MSSlideController.registerView('partialWave',MSPartialWaveView)}(),function(t){'use strict';var e=function(){this.options={prefix:'ms-',autohide:!0,overVideo:!0}},i=e.prototype;i.slideAction=function(){},i.setup=function(){this.cont=this.options.insertTo?t(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts(),this.options.hideUnder&&(t(window).bind('resize',{that:this},this.onResize),this.onResize())},i.onResize=function(t){var i=t&&t.data.that||this,e=window.innerWidth;e<=i.options.hideUnder&&!i.detached?(i.$element.css('display','none'),i.detached=!0,i.onDetach&&i.onDetach()):e>=i.options.hideUnder&&i.detached&&(i.detached=!1,i.$element.css('display',''),i.visible(),i.onAppend&&i.onAppend())},i.create=function(){var i=this;this.options.autohide&&!window._touch&&(this.hide(!0),this.slider.$controlsCont.mouseenter(function(){i._disableAH||i.mdown||i.visible(),i.mleave=!1}).mouseleave(function(){i.mleave=!0,i.mdown||i.hide()}).mousedown(function(){i.mdown=!0}),t(document).mouseup(function(){i.mdown&&i.mleave&&i.hide(),i.mdown=!1}))},i._hideOnvideoStarts=function(){var t=this;slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){t._disableAH=!0,t.hide()}),slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){t._disableAH=!1,t.visible()})},i.hide=function(t){t?this.$element.css('opacity',0):CTween.fadeOut(this.$element,400,!1),this.$element.addClass('ms-ctrl-hide')},i.visible=function(){this.detached||(CTween.fadeIn(this.$element,400),this.$element.removeClass('ms-ctrl-hide'))},i.destroy=function(){this.options.hideUnder&&t(window).unbind('resize',this.onResize)},window.BaseControl=e}(jQuery),function(t){'use strict';var e=function(i){BaseControl.call(this),t.extend(this.options,i)},i,s;e.extend(BaseControl),i=e.prototype,s=BaseControl.prototype,i.setup=function(){var i=this;s.setup.call(this),this.$next=t('<div><\/div>').addClass(this.options.prefix+'nav-next').appendTo(this.cont).bind('click',function(){i.slider.options.loop||i.slider.api.index()!==i.slider.api.count()-1?i.slider.api.next():i.slider.view.controller.bounce(10)}),this.$prev=t('<div><\/div>').addClass(this.options.prefix+'nav-prev').appendTo(this.cont).bind('click',function(){i.slider.options.loop||i.slider.api.index()!==0?i.slider.api.previous():i.slider.view.controller.bounce(-10)})},i.hide=function(t){if(t){this.$prev.css('opacity',0),this.$next.css('opacity',0);return};CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass('ms-ctrl-hide'),this.$next.addClass('ms-ctrl-hide')},i.visible=function(){CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass('ms-ctrl-hide'),this.$next.removeClass('ms-ctrl-hide')},i.destroy=function(){this.$next.remove(),this.$prev.remove()},window.MSArrows=e,MSSlideController.registerControl('arrows',e)}(jQuery),function(t){'use strict';var e=function(i){BaseControl.call(this),this.options.dir='h',this.options.wheel=i.dir==='v',this.options.arrows=!0,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type='thumbs',t.extend(this.options,i),this.thumbs=[],this.index_count=0,this.__dimen=this.options.dir==='h'?'width':'height',this.__alignsize=this.options.dir==='h'?'height':'width',this.__jdimen=this.options.dir==='h'?'outerWidth':'outerHeight',this.__pos=this.options.dir==='h'?'left':'top',this.click_enable=!0},i,s;e.extend(BaseControl),i=e.prototype,s=BaseControl.prototype,i.setup=function(){var i,e;this.$element=t('<div><\/div>').addClass(this.options.prefix+'thumb-list'),this.options.type==='tabs'&&this.$element.addClass(this.options.prefix+'tabs'),this.$element.addClass('ms-dir-'+this.options.dir),s.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$thumbscont=t('<div><\/div>').addClass('ms-thumbs-cont').appendTo(this.$element),this.options.arrows&&(i=this,this.$fwd=t('<div><\/div>').addClass('ms-thumblist-fwd').appendTo(this.$element).click(function(){i.controller.push(-15)}),this.$bwd=t('<div><\/div>').addClass('ms-thumblist-bwd').appendTo(this.$element).click(function(){i.controller.push(15)})),!this.options.insetTo&&this.options.align&&(e=this.options.align,this.options.inset?this.$element.css(e,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),this.options.dir==='v'?this.$element.width(this.options.width):this.$element.height(this.options.height))},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var t=this.options.align,i=this.slider.reserveSpace(t,this.options[this.__alignsize]+this.options.margin*2);this.$element.css(t,-i-this.options[this.__alignsize]-this.options.margin)}},i.slideAction=function(i){var s=t(i.$element.find('.ms-thumb')),n=this,e=t('<div><\/div>').addClass('ms-thumb-frame').append(s).append(t('<div class="ms-thumb-ol"><\/div>')).bind('click',function(){n.changeSlide(e)});if(this.options.align&&e.width(this.options.width).height(this.options.height).css('margin-'+(this.options.dir==='v'?'bottom':'right'),this.options.space),e[0].index=this.index_count++,this.$thumbscont.append(e),t.browser.msie)s.on('dragstart',function(t){t.preventDefault()});this.thumbs.push(e)},i.create=function(){var i;s.create.call(this),this.__translate_end=window._css3d?' translateZ(0px)':'',this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-this.options.speed*.5)/100}),this.controller.renderCallback(this.options.dir==='h'?this._hMove:this._vMove,this),i=this,this.resize_listener=function(){i.__resize()},t(window).bind('resize',this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize(),i=this,this.options.wheel&&(this.wheellistener=function(t){var e=window.event||t.orginalEvent||t,s=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return i.controller.push(-s*10),!1},t.browser.mozilla?this.$element[0].addEventListener('DOMMouseScroll',this.wheellistener):this.$element.bind('mousewheel',this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},i._hMove=function(t,i){if(this.__contPos=i,window._cssanim){this.$thumbscont[0].style[window._jcsspfx+'Transform']='translateX('+-i+'px)'+this.__translate_end;return};this.$thumbscont[0].style.left=-i+'px'},i._vMove=function(t,i){if(this.__contPos=i,window._cssanim){this.$thumbscont[0].style[window._jcsspfx+'Transform']='translateY('+-i+'px)'+this.__translate_end;return};this.$thumbscont[0].style.top=-i+'px'},i.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType=this.options.dir==='h'?'horizontal':'vertical';var t=this;this.swipeControl.onSwipe=this.options.dir==='h'?function(i){t.horizSwipeMove(i)}:function(i){t.vertSwipeMove(i)}},i.vertSwipeMove=function(t){var i,e;this.dTouch||(i=t.phase,i==='start'?this.controller.stop():i==='move'?this.controller.drag(t.moveY):(i==='end'||i==='cancel')&&(e=Math.abs(t.distanceY/t.duration*50/3),e>.1?this.controller.push(-t.distanceY/t.duration*50/3):(this.click_enable=!0,this.controller.cancel())))},i.horizSwipeMove=function(t){var i,e;this.dTouch||(i=t.phase,i==='start'?(this.controller.stop(),this.click_enable=!1):i==='move'?this.controller.drag(t.moveX):(i==='end'||i==='cancel')&&(e=Math.abs(t.distanceX/t.duration*50/3),e>.1?this.controller.push(-t.distanceX/t.duration*50/3):(this.click_enable=!0,this.controller.cancel())))},i.update=function(){var t=this.slider.api.index();this.cindex!==t&&(this.cindex!=null&&this.unselect(this.thumbs[this.cindex]),this.cindex=t,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},i.updateThumbscroll=function(){var t=this.thumbSize*this.cindex,i;if(this.controller.value==NaN&&(this.controller.value=0),t-this.controller.value<0){this.controller.gotoSnap(this.cindex,!0);return};if(t+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){i=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1,this.controller.gotoSnap(i,!0);return}},i.changeSlide=function(t){this.click_enable&&this.cindex!==t[0].index&&this.slider.api.gotoSlide(t[0].index)},i.unselect=function(t){t.removeClass('ms-thumb-frame-selected')},i.select=function(t){t.addClass('ms-thumb-frame-selected')},i.__resize=function(){var t=this.$element[this.__dimen](),i;this.ls!==t&&(this.ls=t,this.thumbSize=this.thumbs[0][this.__jdimen](!0),i=this.slider.api.count()*this.thumbSize,this.$thumbscont[0].style[this.__dimen]=i+'px',i<=t?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=(t-i)*.5+'px',this.$thumbscont[0].style[window._jcsspfx+'Transform']=''):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]='',this.controller._max_value=i-t,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll()))},i.destroy=function(){this.options.wheel&&(t.browser.mozilla?this.$element[0].removeEventListener('DOMMouseScroll',this.wheellistener):this.$element.unbind('mousewheel',this.wheellistener),this.wheellistener=null),t(window).unbind('resize',this.resize_listener),this.$element.remove(),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),s.destroy()},window.MSThumblist=e,MSSlideController.registerControl('thumblist',e)}(jQuery),function(t){'use strict';var e=function(i){BaseControl.call(this),this.options.dir='h',this.options.inset=!0,this.options.margin=10,t.extend(this.options,i),this.bullets=[]},i,s;e.extend(BaseControl),i=e.prototype,s=BaseControl.prototype,i.setup=function(){if(s.setup.call(this),this.$element=t('<div><\/div>').addClass(this.options.prefix+'bullets').addClass('ms-dir-'+this.options.dir).appendTo(this.cont),this.$bullet_cont=t('<div><\/div>').addClass('ms-bullets-count').appendTo(this.$element),!this.options.insetTo&&this.options.align){this.$element.css({top:'auto',bottom:'auto'});var i=this.options.align;this.options.inset&&this.$element.css(i,this.options.margin)}},i.create=function(){var n,e,i;for(s.create.call(this),n=this,this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),e=0;e<this.slider.api.count();++e){i=t('<div><\/div>').addClass('ms-bullet'),i[0].index=e;i.on('click',function(){n.changeSlide(this.index)});this.$bullet_cont.append(i),this.bullets.push(i)};this.options.dir==='h'&&this.$element.width(i.outerWidth(!0)*this.slider.api.count()),this.select(this.bullets[this.cindex])},i.update=function(){var t=this.slider.api.index();this.cindex!==t&&(this.cindex!=null&&this.unselect(this.bullets[this.cindex]),this.cindex=t,this.select(this.bullets[this.cindex]))},i.changeSlide=function(t){this.cindex!==t&&this.slider.api.gotoSlide(t)},i.unselect=function(t){t.removeClass('ms-bullet-selected')},i.select=function(t){t.addClass('ms-bullet-selected')},i.destroy=function(){this.$element.remove()},window.MSBulltes=e,MSSlideController.registerControl('bullets',e)}(jQuery),function(t){'use strict';var e=function(i){BaseControl.call(this),this.options.dir='h',this.options.autohide=!0,this.options.width=4,this.options.color='#3D3D3D',this.options.margin=10,t.extend(this.options,i),this.__dimen=this.options.dir==='h'?'width':'height',this.__jdimen=this.options.dir==='h'?'outerWidth':'outerHeight',this.__pos=this.options.dir==='h'?'left':'top',this.__translate_end=window._css3d?' translateZ(0px)':'',this.__translate_start=this.options.dir==='h'?' translateX(':'translateY('},i,s;e.extend(BaseControl),i=e.prototype,s=BaseControl.prototype,i.setup=function(){if(this.$element=t('<div><\/div>').addClass(this.options.prefix+'sbar').addClass('ms-dir-'+this.options.dir),s.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$bar=t('<div><\/div>').addClass(this.options.prefix+'bar').appendTo(this.$element),this.slider.options.loop&&(console.log('WARNING, MSScrollbar cannot work with looped slider.'),this.disable=!0,this.$element.remove()),this.options.dir==='v'?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css('background-color',this.options.color),!this.options.insetTo&&this.options.align){this.options.dir==='v'?this.$element.css({right:'auto',left:'auto'}):this.$element.css({top:'auto',bottom:'auto'});var i=this.options.align;this.options.inset?this.$element.css(i,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var t=this.options.align,i=this.slider.reserveSpace(t,this.options.margin*2+this.options.width);this.$element.css(t,-i-this.options.margin-this.options.width)}},i.create=function(){if(!this.disable){var t=this;this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css('opacity','0')}},i._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view['__'+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},i._update=function(){var t=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value,i;if(this.lvalue!==t){if(this.lvalue=t,this.options.autohide&&(clearTimeout(this.hto),this.$bar.css('opacity','1'),i=this,this.hto=setTimeout(function(){i.$bar.css('opacity','0')},150)),t<0){this.$bar[0].style[this.__dimen]=this.bar_dimen+t+'px';return};if(t>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-t+'px'),window._cssanim){this.$bar[0].style[window._jcsspfx+'Transform']=this.__translate_start+t+'px)'+this.__translate_end;return};this.$bar[0].style[this.__pos]=t+'px'}},i.destroy=function(){this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove(),s.destroy()},window.MSScrollbar=e,MSSlideController.registerControl('scrollbar',e)}(jQuery),function(t){'use strict';var e=function(i){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color='#FFFFFF',this.options.inset=!0,t.extend(this.options,i)},i,s;e.extend(BaseControl),i=e.prototype,s=BaseControl.prototype,i.setup=function(){var e=this,i;s.setup.call(this),this.$element=t('<div><\/div>').addClass(this.options.prefix+'timerbar'),s.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$bar=t('<div><\/div>').addClass('ms-time-bar').appendTo(this.$element),this.options.dir==='v'?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css('background-color',this.options.color),!this.options.insetTo&&this.options.align&&(this.$element.css({top:'auto',bottom:'auto'}),i=this.options.align,this.options.inset?this.$element.css(i,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()))},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var t=this.options.align,i=this.slider.reserveSpace(t,this.options.margin*2+this.options.width);this.$element.css(t,-i-this.options.margin-this.options.width)}},i.create=function(){s.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WATING,this._update,this),this._update()},i._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+'%'},i.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.WATING,this._update,this),this.$element.remove()},window.MSTimerbar=e,MSSlideController.registerControl('timebar',e)}(jQuery),function(t){'use strict';var e=function(i){BaseControl.call(this),this.options.color='#A2A2A2',this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,t.extend(this.options,i)},i,s;e.extend(BaseControl),i=e.prototype,s=BaseControl.prototype,i.setup=function(){var i=this;if(s.setup.call(this),this.$element=t('<div><\/div>').addClass(this.options.prefix+'ctimer').appendTo(this.cont),this.$canvas=t('<canvas><\/canvas>').addClass('ms-ctimer-canvas').appendTo(this.$element),this.$bar=t('<div><\/div>').addClass('ms-ctimer-bullet').appendTo(this.$element),!this.$canvas[0].getContext){this.destroy(),this.disable=!0;return};this.ctx=this.$canvas[0].getContext('2d'),this.prog=0,this.__w=(this.options.radius+this.options.stroke/2)*2,this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w},i.create=function(){if(!this.disable){s.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WATING,this._update,this);var t=this;this.$element.click(function(){t.slider.api.paused?t.slider.api.resume():t.slider.api.pause()}),this._update()}},i._update=function(){var i=this;t(this).stop(!0).animate({prog:this.slider.api._delayProgress*.01},{duration:200,step:function(){i._draw()}})},i._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(this.__w*.5,this.__w*.5,this.options.radius,Math.PI*1.5,Math.PI*1.5+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},i.destroy=function(){this.disable||(t(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WATING,this._update,this),this.$element.remove())},window.MSCircleTimer=e,MSSlideController.registerControl('circletimer',e)}(jQuery),function(t){'use strict';window.MSLightbox=function(i){BaseControl.call(this,i),this.options.autohide=!1,t.extend(this.options,i),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var i=MSLightbox.prototype,e=BaseControl.prototype;i.setup=function(){e.setup.call(this),this.$element=t('<div><\/div>').addClass(this.options.prefix+'lightbox-btn').appendTo(this.cont)},i.slideAction=function(i){t('<div><\/div>').addClass(this.options.prefix+'lightbox-btn').appendTo(i.$element).append(t(i.$element.find('.ms-lightbox')))},i.create=function(){e.create.call(this)},MSSlideController.registerControl('lightbox',MSLightbox)}(jQuery),function(t){'use strict';window.MSSlideInfo=function(i){BaseControl.call(this,i),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir='h',t.extend(this.options,i),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var i=MSSlideInfo.prototype,e=BaseControl.prototype;i.setup=function(){if(this.$element=t('<div><\/div>').addClass(this.options.prefix+'slide-info').addClass('ms-dir-'+this.options.dir),e.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),!this.options.insetTo&&this.options.align){var i=this.options.align;this.options.inset?this.$element.css(i,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),this.options.dir==='v'?this.$element.width(this.options.size):this.$element.css('min-height',this.options.size)}},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var t=this.options.align,i=this.slider.reserveSpace(t,this.options.size+this.options.margin*2);this.$element.css(t,-i-this.options.size-this.options.margin)}},i.slideAction=function(i){var e=t(i.$element.find('.ms-info')),s=this;e.detach(),this.data_list[i.index]=e},i.create=function(){e.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},i.update=function(){var t=this.slider.api.index();this.switchEle(this.data_list[t]),this.cindex=t},i.switchEle=function(t){if(this.current_ele){var i=this;this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null},target:this.current_ele}),clearTimeout(this.tou),this.tou=setTimeout(function(){i.__show(t)},MSSlideInfo.fadeDuratation+200);return};this.__show(t)},i.__show=function(t){t.appendTo(this.$element).css('opacity','0'),CTween.fadeIn(t,MSSlideInfo.fadeDuratation),t[0].tween&&t[0].tween.stop(!0),this.current_ele=t},i.destroy=function(){clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween.stop('true'),this.$element.remove(),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this)},MSSlideController.registerControl('slideinfo',MSSlideInfo)}(jQuery),function(){window.MSGallery=function(t,i){this.id=t,this.slider=i,this.telement=$('#'+t),this.botcont=$('<div><\/div>').addClass('ms-gallery-botcont').appendTo(this.telement),this.thumbcont=$('<div><\/div>').addClass('ms-gal-thumbcont hide-thumbs').appendTo(this.botcont),this.playbtn=$('<div><\/div>').addClass('ms-gal-playbtn').appendTo(this.botcont),this.thumbtoggle=$('<div><\/div>').addClass('ms-gal-thumbtoggle').appendTo(this.botcont),i.control('thumblist',{insertTo:this.thumbcont,autohide:!1,dir:'h'}),i.control('slidenum',{insertTo:this.botcont,autohide:!1}),i.control('slideinfo',{insertTo:this.botcont,autohide:!1}),i.control('timebar',{insertTo:this.botcont,autohide:!1}),i.control('bullets',{insertTo:this.botcont,autohide:!1})};var t=MSGallery.prototype;t._init=function(){var t=this;this.slider.api.paused||this.playbtn.addClass('btn-pause'),this.playbtn.click(function(){t.slider.api.paused?(t.slider.api.resume(),t.playbtn.addClass('btn-pause')):(t.slider.api.pause(),t.playbtn.removeClass('btn-pause'))}),this.thumbtoggle.click(function(){t.vthumbs?(t.thumbtoggle.removeClass('btn-hide'),t.vthumbs=!1,t.thumbcont.addClass('hide-thumbs')):(t.thumbtoggle.addClass('btn-hide'),t.thumbcont.removeClass('hide-thumbs'),t.vthumbs=!0)})},t.setup=function(){var t=this;$(document).ready(function(){t._init()})}}()